(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,n){e.exports=n(189)},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(10),c=n.n(i),o=n(39),m=n(18),l=n(31),s=n(8),u=n(30),d=n(98),g=(n(96),n(187),document.createElement("textarea")),h=function(e){return g.innerHTML=e,g.value};var p=function(e){var t=e.historyStates,n=e.onHistoryStateClick;return r.a.createElement(s.g,null,t.map(function(e,t){return r.a.createElement(s.h,{header:"".concat(e.invoiceNumber," (").concat((e.toName.split("\n")||[""])[0],")"),onClick:function(){return n(e)},key:"historyState".concat(t)},h(Object(u.format)(e.lineItems.reduce(function(e,t){return e+t.quantity*t.rate},0),{currency:e.currency})))}))},b=n(99),y=n(100),f=n(102),E=n(101),v=n(103),I=function(e){function t(){return Object(b.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(y.a)(t,[{key:"onLineItemDescriptionChange",value:function(e,t){this.props.onLineItemDescriptionChange({index:e,newDescription:t.target.value})}},{key:"onLineItemQuantityChange",value:function(e,t){this.props.onLineItemQuantityChange({index:e,newQuantity:t.target.value})}},{key:"onLineItemRateChange",value:function(e,t){this.props.onLineItemRateChange({index:e,newRate:t.target.value})}},{key:"onLineItemDeleteClick",value:function(e){this.props.onLineItemDeleteClick({index:e})}},{key:"getLineItemsTotal",value:function(e){return e.reduce(function(e,t){return e+t.quantity*t.rate},0)}},{key:"renderLineItemRow",value:function(e,t){return r.a.createElement(s.j,{key:t},r.a.createElement(s.b,{sm:8},r.a.createElement(s.e,{type:"text",value:e.description,onChange:this.onLineItemDescriptionChange.bind(this,t)})),r.a.createElement(s.b,{sm:1,style:{paddingLeft:"7px",paddingRight:"7px"}},r.a.createElement(s.e,{type:"number",step:"0.1",value:e.quantity,onChange:this.onLineItemQuantityChange.bind(this,t)})),r.a.createElement(s.b,{sm:1,style:{paddingLeft:"7px",paddingRight:"7px"}},r.a.createElement(s.e,{type:"number",value:e.rate,onChange:this.onLineItemRateChange.bind(this,t)})),r.a.createElement(s.b,{sm:1},h(Object(u.format)(e.quantity*e.rate,{currency:this.props.currency}))),r.a.createElement(s.b,{sm:1},r.a.createElement(s.a,{bsStyle:"danger",onClick:this.onLineItemDeleteClick.bind(this,t)},"X")))}},{key:"render",value:function(){var e=this.props.lineItems,t=e.map(this.renderLineItemRow.bind(this)),n=this.getLineItemsTotal(e);return r.a.createElement("div",null,r.a.createElement(s.j,null,r.a.createElement(s.b,{sm:8},"Item"),r.a.createElement(s.b,{sm:1},"Quantity"),r.a.createElement(s.b,{sm:1},"Rate"),r.a.createElement(s.b,{sm:1},"Amount"),r.a.createElement(s.b,{sm:1})),t,r.a.createElement(s.j,null,r.a.createElement(s.b,{sm:8},r.a.createElement(s.a,{bsStyle:"success",onClick:this.props.onLineItemAddClick},"+ Add Line Item")),r.a.createElement(s.b,{sm:1}),r.a.createElement(s.b,{sm:1},"Total"),r.a.createElement(s.b,{sm:1},h(Object(u.format)(n,{currency:this.props.currency}))),r.a.createElement(s.b,{sm:1})))}}]),t}(a.Component);I.defaultProps={lineItems:[]};var C=I,L=window.pdfMake;function x(e){if(e.imageLogo){console.log("imageLogo",e.imageLogo);var t=new FileReader;t.addEventListener("load",function(e,t){e.imageLogo=t.result,k(e)}.bind(null,e,t),!1),t.readAsDataURL(e.imageLogo)}else k(e)}function k(e){var t=function(e){var t=S(e);return console.log("notesAndTerms",t),{content:[O(e),j(e),N(e)].concat(Object(o.a)(S(e)))}}(e);L.createPdf(t).open()}function O(e){var t=[],n=[];return Object.entries({Date:e.date,"Payment Terms":e.paymentTerms,"Due Date":e.dueDate}).forEach(function(e){var a=Object(l.a)(e,2),r=a[0],i=a[1];i&&(t.push(r),n.push(i))}),{columns:[{stack:[].concat(Object(o.a)(w(e)),[{text:e.fromName,margin:[0,30,0,30]},{text:"Bill To",margin:[0,0,0,0]},{text:e.toName}])},{stack:[{text:"INVOICE",fontSize:25},{text:"# ".concat(e.invoiceNumber),fontSize:15,margin:[0,0,0,30]},{columns:[{width:50,text:""},{width:"*",columns:[{stack:t,alignment:"right"},{stack:n,alignment:"right"}]}]}],alignment:"right"}],columnGap:10,margin:[0,0,0,30]}}function j(e){var t=e.lineItems.map(function(e){return function(t){return[t.description,{text:String(t.quantity),alignment:"right"},{text:"".concat(t.rate," ").concat(e.currency),alignment:"right"},{text:"".concat((t.quantity*t.rate).toFixed(2)," ").concat(e.currency),alignment:"right"}]}}(e));return{table:{widths:["*","11%","11%","18%"],headerRows:1,body:[["Item",{text:"Quantity",alignment:"right"},{text:"Rate",alignment:"right"},{text:"Amount",alignment:"right"}]].concat(Object(o.a)(t))},layout:"lightHorizontalLines"}}function N(e){var t=e.lineItems.reduce(function(e,t){return e+t.quantity*t.rate},0);return{table:{widths:["*","18%"],body:[[{text:"Total",alignment:"right"},{text:"".concat(t.toFixed(2)," ").concat(e.currency),alignment:"right"}]]},layout:"noBorders",margin:[0,0,0,30]}}function S(e){var t=[];return console.log("params",e),e.notes&&(t=t.concat([{text:"Notes"},{text:e.notes,margin:[0,0,0,30]}])),e.terms&&(t=t.concat([{text:"Terms"},{text:e.terms,margin:[0,0,0,30]}])),t}function w(e){var t=[];return e.imageLogo&&t.push({image:e.imageLogo}),t}var D=Object.keys(u.symbols),T={invoiceNumber:"",fromName:"",imageLogo:null,paymentTerms:"",currency:"CAD",toName:"",date:"",dueDate:"",lineItems:[],notes:"",terms:""};var R=function(){var e=Object(a.useState)(T),t=Object(l.a)(e,2),n=t[0],i=t[1],c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=r.a.useState(function(){var n;try{n=JSON.parse(localStorage.getItem(e)||"")}catch(a){n=localStorage.getItem(e)}return n=n||t,localStorage.setItem(e,"string"===typeof n?n:JSON.stringify(n)),n}),a=Object(l.a)(n,2),i=a[0],c=a[1];return[i,function(t){c(t),localStorage.setItem(e,"string"===typeof t?t:JSON.stringify(t))}]}("invoiceHistory",[]),u=Object(l.a)(c,2),g=u[0],h=u[1];function b(e,t){var a=t.target.value,r={};r[e]=a,i(Object(m.a)({},n,r))}return r.a.createElement("div",{className:"App"},r.a.createElement("div",null,r.a.createElement(s.i,null,"Invoice Generator"),r.a.createElement("p",null,"This is an invoice generator. Fill in the fields below and click 'Create Invoice' to generate the invoice as a PDF document."," ",r.a.createElement("button",{onClick:function(){i(Object(m.a)({},n,{invoiceNumber:"123",fromName:"John Smith\n123 Address St.\nLos Angeles, CA 12345",imageLogo:null,paymentTerms:"Biweekly",currency:"USD",toName:"Jane Smith\n999 Address St.\nSeattle, WA 54321",date:"2016-10-10",dueDate:"2016-11-01",lineItems:[{description:"Item #1",quantity:1,rate:1.5},{description:"Item #2",quantity:2,rate:2.5}],notes:"This invoice does not include service fees.",terms:"Payment must be made via PayPal."}))}},"Click here")," to see an example."),r.a.createElement("div",{className:"App-invoice"},r.a.createElement(s.d,{horizontal:!0},r.a.createElement(s.f,{controlId:"invoiceNumber"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Invoice #"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{type:"text",value:n.invoiceNumber,onChange:b.bind(this,"invoiceNumber")}))),r.a.createElement(s.f,{controlId:"fromName"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"From"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{componentClass:"textarea",rows:"3",placeholder:"Who is this invoice from?",value:n.fromName,onChange:b.bind(this,"fromName")}))),r.a.createElement(s.f,{controlId:"imageLogo"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Logo"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{type:"file",onChange:function(e){var t=e.target.files,a={};t.length>0&&(a.imageLogo=t[0]),i(Object(m.a)({},n,a))}.bind(this)}),n.imageLogo?r.a.createElement("button",{onClick:function(){document.getElementById("imageLogo").value="",i(Object(m.a)({},n,{imageLogo:null}))}},"Remove image"):null)),r.a.createElement(s.f,{controlId:"toName"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Bill To"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{componentClass:"textarea",rows:"3",placeholder:"Who is this invoice to?",value:n.toName,onChange:b.bind(this,"toName")}))),r.a.createElement(s.f,{controlId:"date"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Date"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{type:"date",value:n.date,onChange:b.bind(this,"date")}))),r.a.createElement(s.f,{controlId:"dueDate"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Due Date"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{type:"date",value:n.dueDate,onChange:b.bind(this,"dueDate")}))),r.a.createElement(s.f,{controlId:"paymentTerms"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Payment Terms"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{type:"text",value:n.paymentTerms,onChange:b.bind(this,"paymentTerms")}))),r.a.createElement(s.f,{controlId:"currency"},r.a.createElement(s.b,{componentClass:s.c,sm:2},"Currency"),r.a.createElement(s.b,{sm:10},r.a.createElement(s.e,{componentClass:"select",placeholder:"Select currency",defaultValue:n.currency,onChange:b.bind(this,"currency")},D.map(function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement(C,{lineItems:n.lineItems,currency:n.currency,onLineItemDescriptionChange:function(e){var t=n.lineItems;t[e.index].description=e.newDescription,i(Object(m.a)({},n,{lineItems:t}))},onLineItemQuantityChange:function(e){var t=n.lineItems;t[e.index].quantity=e.newQuantity,i(Object(m.a)({},n,{lineItems:t}))},onLineItemRateChange:function(e){var t=n.lineItems;t[e.index].rate=e.newRate,i(Object(m.a)({},n,{lineItems:t}))},onLineItemDeleteClick:function(e){var t=n.lineItems;t.splice(e.index,1),i(Object(m.a)({},n,{lineItems:t}))},onLineItemAddClick:function(){var e=n.lineItems;e.push({description:"",quantity:0,rate:0}),i(Object(m.a)({},n,{lineItems:e}))}}),r.a.createElement(s.f,null,r.a.createElement(s.c,null,"Notes"),r.a.createElement(s.e,{componentClass:"textarea",placeholder:"Notes - any relevant information not already covered",value:n.notes,onChange:b.bind(this,"notes")})),r.a.createElement(s.f,null,r.a.createElement(s.c,null,"Terms"),r.a.createElement(s.e,{componentClass:"textarea",placeholder:"Terms and conditions - late fees, payment methods, delivery schedule",value:n.terms,onChange:b.bind(this,"terms")})))),r.a.createElement("div",{className:"Footer-Container"},r.a.createElement("div",{className:"Footer"},r.a.createElement(s.b,{sm:2},r.a.createElement(s.a,{onClick:function(){i(T)}},"Clear Form")),r.a.createElement(s.b,{smOffset:8,sm:2},r.a.createElement(s.a,{onClick:function(){x(n),Object(d.a)(n,g[0])||h([n].concat(Object(o.a)(g.slice(0,24))))},bsStyle:"primary"},"Create Invoice"))))),r.a.createElement("div",null,r.a.createElement(p,{historyStates:g,onHistoryStateClick:function(e){i(e)}})))};n(188);c.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.de1ff303.chunk.js.map